<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <canvas
      id="canvas"
      style="border: aqua 1px solid; margin: 50px auto; display: block"
    >
    </canvas>
    <script>
      window.onload = function () {
        let canvas = document.getElementById("canvas");
        canvas.width = 800;
        canvas.height = 800;
        let context = canvas.getContext("2d");
        context.fillStyle = "black";
        context.fillRect(0, 0, canvas.width, canvas.height);
        var str=[];
        for (var i = 0; i < 200; i++) {
          var r = Math.random() * 10 + 10;
          var x = Math.max(Math.random() * canvas.width, r);
          x = Math.min(x, canvas.width - r);
          var y = Math.max(Math.random() * canvas.height, r);
          y = Math.min(y, canvas.height - r);
          var a = Math.random() * 360;
          str.push([x,y,r])
          var flag=true;
          for(var j=0;j<str.length;j++){
              var jux=Math.abs(x-str[j][0])
              var juy=Math.abs(y-str[j][1])
              var ju=Math.sqrt(Math.pow(jux,2)+Math.pow(juy,2))

              if(ju<(r+str[j][2]) && ju!=0){
                  flag=false;
              }
          }
          if(flag){
              drawStar(context, r, r / 2.0, x, y, a, "#058", 1, "yellow");
          }
          
        }
      };

      function drawStar(
        cxt,
        r,
        R,
        x,
        y,
        rot,
        borderColor,
        borderWidth,
        fillColor
      ) {
        cxt.beginPath();
        for (var i = 0; i < 5; i++) {
          cxt.lineTo(
            Math.cos(((18 + i * 72 - rot) / 180) * Math.PI) * R + x,
            -Math.sin(((18 + i * 72 - rot) / 180) * Math.PI) * R + y
          );
          cxt.lineTo(
            Math.cos(((54 + i * 72 - rot) / 180) * Math.PI) * r + x,
            -Math.sin(((54 + i * 72 - rot) / 180) * Math.PI) * r + y
          );
        }
        cxt.closePath(); //路径闭合
        cxt.fillStyle = fillColor;
        cxt.strokeStyle = borderColor;
        cxt.lineWidth = borderWidth;
        cxt.lineJoin = "round"; //连接处
        cxt.miterLimit = 10;
        /*
                miter:默认值
                bevel:折角
                round:圆角
            */
        cxt.fill(); //要放在context.stroke()前
        cxt.stroke();
      }
    </script>
  </body>
</html>
